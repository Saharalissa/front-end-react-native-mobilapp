{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Mobileside\\\\front-end-react-native-mobilapp\\\\components\\\\Profile\\\\profile.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport axios from 'axios';\n\nvar Profile = function Profile(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  console.log(profile);\n  useEffect(function () {\n    axios.get('http://192.168.1.94:5000/UserProfile').then(function (res) {\n      setProfile(res.data);\n      console.log(profile);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, [profile]);\n  useEffect(function _callee() {\n    var value;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('user_id'));\n\n          case 3:\n            value = _context.sent;\n            setUser(value);\n\n            if (value !== null) {}\n\n            _context.next = 10;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }, []);\n  console.log(user);\n  var styles = StyleSheet.create({\n    container: {\n      paddingTop: 50\n    },\n    tinyLogo: {\n      width: 150,\n      height: 150\n    },\n    logo: {\n      width: 66,\n      height: 58\n    }\n  });\n\n  var logout = function logout() {\n    return _regeneratorRuntime.async(function logout$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem('token'));\n\n          case 3:\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem('user_id'));\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 10:\n            navigation.navigate('Home');\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      return navigation.openDrawer();\n    },\n    title: \"menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }\n  }), React.createElement(Button, {\n    onPress: logout,\n    title: \"Sign out\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }), Object.entries(profile).filter(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        key = _ref3[0],\n        y = _ref3[1];\n\n    return y.userID == user;\n  }).map(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        key = _ref5[0],\n        v = _ref5[1];\n\n    return React.createElement(View, {\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, React.createElement(Image, {\n      style: styles.tinyLogo,\n      source: {\n        uri: v.image\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, \"username: \", v.username), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"email: \", v.email), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"phone number: \", v.phoneNumber), React.createElement(Button, {\n      onPress: function onPress() {\n        return navigation.navigate('update profile', {\n          id: v.userID\n        });\n      },\n      title: \"update profile\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 12\n      }\n    })));\n  }));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Mobileside/front-end-react-native-mobilapp/components/Profile/profile.js"],"names":["React","useEffect","useState","AsyncStorage","axios","Profile","navigation","profile","setProfile","user","setUser","console","log","get","then","res","data","catch","error","getItem","value","styles","StyleSheet","create","container","paddingTop","tinyLogo","width","height","logo","logout","removeItem","navigate","openDrawer","Object","entries","filter","key","y","userID","map","v","uri","image","username","email","phoneNumber","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}from 'react';\r\nimport {View, Text, Image, StyleSheet, Button} from 'react-native';\r\nimport  AsyncStorage  from '@react-native-community/async-storage';\r\n// import StyledButton from '../StyledButton';\r\n// import styles from './style';\r\nimport axios from 'axios';\r\nconst Profile = ({navigation}) => {\r\n//hooks to set state\r\nconst [profile, setProfile] = useState(\"\");\r\nconst [user, setUser] = useState(\"\")\r\nconsole.log(profile)\r\n//to get the data directly ==> useEffect\r\n//to know which user\r\n//get id from local storage\r\n//var User = id from local storage\r\n//filter the array of objects to user id\r\n//map over the user's object and render it's data\r\nuseEffect(() => {\r\n    axios.get('http://192.168.1.94:5000/UserProfile')\r\n    .then( res => {\r\n         setProfile(res.data)  \r\n          console.log(profile)  \r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    })\r\n},[profile]);\r\nuseEffect( async () => {\r\n  try {\r\n    const value = await AsyncStorage.getItem('user_id');\r\n    setUser(value)\r\n    if (value !== null) {\r\n      // We have data!!\r\n    }\r\n  } catch (error) {\r\n    // Error retrieving data\r\n  }\r\n},[]);\r\nconsole.log(user)\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      paddingTop: 50,\r\n    },\r\n    tinyLogo: {\r\n      width: 150,\r\n      height: 150,\r\n    },\r\n    logo: {\r\n      width: 66,\r\n      height: 58,\r\n    },\r\n  });\r\n  const logout = async () => {\r\n    try {\r\n        await AsyncStorage.removeItem('token')\r\n        await AsyncStorage.removeItem('user_id')\r\n           }catch(e){\r\n              console.log(e)\r\n        }\r\n        navigation.navigate('Home')\r\n  }\r\n  return (\r\n    <View>\r\n     <Button onPress={() => navigation.openDrawer()} title=\"menu\"/>\r\n    <Button onPress={logout} title=\"Sign out\"/>\r\n  {Object.entries(profile).filter(([key, y]) => \r\n      y.userID == user).map(([key,v]) => {\r\n          return  <View key={key}>\r\n          <Text>\r\n          <Image style={styles.tinyLogo} source={{ uri: v.image,}}/>\r\n          <Text>username: {v.username}</Text>\r\n          <Text>email: {v.email}</Text>\r\n          <Text>phone number: {v.phoneNumber}</Text>\r\n           <Button onPress={() => navigation.navigate(('update profile') ,{id : v.userID} )} title=\"update profile\"/>\r\n          </Text>\r\n                 </View>\r\n      })}\r\n   </View>\r\n  )\r\n  }\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}