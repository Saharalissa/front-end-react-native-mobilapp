{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Thersis-Dawerha\\\\front-end-react-native-mobilapp\\\\components\\\\Profile\\\\profile.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport axios from 'axios';\n\nvar Profile = function Profile(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  console.log(profile);\n  useEffect(function () {\n    axios.post('http://192.168.8.103:5000/UserProfile').then(function _callee(req) {\n      var user_id, user;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setProfile(req.data);\n              console.log(req.data);\n              user_id = JSON.stringify(req.data.result[0].userID);\n              _context.prev = 3;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('user_id', user_id));\n\n            case 6:\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('user_id'));\n\n            case 8:\n              user = _context.sent;\n              console.log(user);\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[3, 12]], Promise);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n  var styles = StyleSheet.create({\n    container: {\n      paddingTop: 50\n    },\n    tinyLogo: {\n      width: 150,\n      height: 150\n    },\n    logo: {\n      width: 66,\n      height: 58\n    }\n  });\n\n  var logout = function logout() {\n    var isloggedin;\n    return _regeneratorRuntime.async(function logout$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem('token'));\n\n          case 3:\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.removeItem('user_id'));\n\n          case 5:\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('user_id'));\n\n          case 7:\n            isloggedin = _context2.sent;\n            console.log(isloggedin);\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 14:\n            props.navigation.navigate('Home');\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 3\n    }\n  }, React.createElement(Button, {\n    onPress: function onPress() {\n      return props.navigation.openDrawer();\n    },\n    title: \"menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }), React.createElement(Button, {\n    onPress: logout,\n    title: \"Sign out\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }), Object.entries(profile).filter(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        v = _ref2[1];\n\n    return v.userID === 1;\n  }).map(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        v = _ref4[1];\n\n    return React.createElement(View, {\n      key: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, React.createElement(Image, {\n      style: styles.tinyLogo,\n      source: {\n        uri: v.image\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, \"username: \", v.username), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, \"email: \", v.email), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, \"phone number: \", v.phoneNumber), React.createElement(Button, {\n      onPress: function onPress() {\n        return props.navigation.navigate('update profile', {\n          id: v.userID\n        });\n      },\n      title: \"update profile\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 10\n      }\n    })));\n  }));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Thersis-Dawerha/front-end-react-native-mobilapp/components/Profile/profile.js"],"names":["React","useEffect","useState","AsyncStorage","axios","Profile","props","profile","setProfile","console","log","post","then","req","data","user_id","JSON","stringify","result","userID","setItem","getItem","user","catch","error","styles","StyleSheet","create","container","paddingTop","tinyLogo","width","height","logo","logout","removeItem","isloggedin","navigation","navigate","openDrawer","Object","entries","filter","key","v","map","uri","image","username","email","phoneNumber","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}from 'react';\r\nimport {View, Text, Image, StyleSheet, Button} from 'react-native';\r\nimport  AsyncStorage  from '@react-native-community/async-storage';\r\n// import StyledButton from '../StyledButton';\r\n// import styles from './style';\r\nimport axios from 'axios';\r\n// import AsyncStorage from '@react-native-community/async-storage';\r\nconst Profile = (props) => {\r\n//hooks to set state\r\nconst [profile, setProfile] = useState(\"\");\r\nconsole.log(profile)\r\n//to get the data directly ==> useEffect\r\n//to know which user\r\n//get id from local storage\r\n//var User = id from local storage\r\n//filter the array of objects to user id\r\n//map over the user's object and render it's data\r\nuseEffect(() => {\r\n    axios.post('http://192.168.8.103:5000/UserProfile')\r\n    .then(async req => {\r\n        setProfile(req.data);\r\n        console.log(req.data);\r\n        const user_id = JSON.stringify(req.data.result[0].userID)\r\n       try{\r\n         await AsyncStorage.setItem('user_id', user_id )\r\n         const user =  await AsyncStorage.getItem('user_id');\r\n         console.log(user)\r\n       }\r\n       catch(e) {\r\n         console.log(e)\r\n       }\r\n    })\r\n    .catch((error) => {\r\n        console.log(error);\r\n    })\r\n    \r\n},[]);\r\n//to know which user's profile get user id from local storage\r\n  // const [getValue, setGetValue] = useState('');\r\n \r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      paddingTop: 50,\r\n    },\r\n    tinyLogo: {\r\n      width: 150,\r\n      height: 150,\r\n    },\r\n    logo: {\r\n      width: 66,\r\n      height: 58,\r\n    },\r\n  });\r\n  const logout = async () => {\r\n    try {\r\n        await AsyncStorage.removeItem('token')\r\n        await AsyncStorage.removeItem('user_id')\r\n        const isloggedin = await AsyncStorage.getItem('user_id')\r\n        console.log(isloggedin)\r\n           }catch(e){\r\n              console.log(e)\r\n        }\r\n        props.navigation.navigate('Home')\r\n  }\r\n\r\nreturn (\r\n  <View>\r\n    <Button onPress={()=> props.navigation.openDrawer()} title=\"menu\"/>\r\n  <Button onPress={logout} title=\"Sign out\"/>\r\n{Object.entries(profile).filter(([key, v]) => \r\n    v.userID === 1).map(([key,v]) => {\r\n        return  <View key={key}>\r\n        <Text>\r\n        <Image style={styles.tinyLogo} source={{ uri: v.image,}}/>\r\n        <Text>username: {v.username}</Text>\r\n        <Text>email: {v.email}</Text>\r\n        <Text>phone number: {v.phoneNumber}</Text>\r\n         <Button onPress={() => props.navigation.navigate(('update profile') ,{id : v.userID} )} title=\"update profile\"/>\r\n        </Text>\r\n               </View>\r\n    })}\r\n </View>\r\n)\r\n}\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}