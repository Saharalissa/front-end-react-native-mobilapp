{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Thersis-Dawerha\\\\front-end-react-native-mobilapp\\\\components\\\\Authentication\\\\signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Button from \"react-native-web/dist/exports/Button\";\n\nvar Signup = function Signup(props) {\n  var _useState = useState({\n    username: '',\n    email: '',\n    password: '',\n    phoneNumber: '',\n    location: '',\n    image: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setUserImage = _useState4[1];\n\n  var clickHandler = function clickHandler() {\n    axios.post('http://192.168.1.94:5000/signup', userData).then(function (req) {\n      console.log(req.data);\n      localStorage.setItem('token', req.data.token);\n      console.log(req.data.token);\n      console.log(userData);\n      console.log(\"success\");\n    }).catch(function (error) {\n      console.log(error);\n      console.log(\"error\");\n    });\n  };\n\n  function handleChangeImage(e) {\n    e.preventDefault();\n    setUserImage(e.target.files[0]);\n  }\n\n  var imageUpload = function imageUpload(e) {\n    var imageLink;\n    return _regeneratorRuntime.async(function imageUpload$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            imageLink = storage.ref(\"images/\" + image.name).put(image);\n            imageLink.on(\"state_changed\", function (snapshot) {}, function (error) {\n              console.log(error);\n            }, function () {\n              storage.ref(\"images\").child(image.name).getDownloadURL().then(function (url) {\n                userData.image = url;\n                console.log(url);\n              });\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Sign up\"), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Username\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"\",\n    onChangeText: function onChangeText(username) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        username: username\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Email\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"example@xxxmail.com\",\n    onChangeText: function onChangeText(email) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        email: email\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"e.g .!@#123Aa\",\n    onChangeText: function onChangeText(password) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        password: password\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Phone Number\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"0123456789\",\n    onChangeText: function onChangeText(phoneNumber) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        phoneNumber: phoneNumber\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Image\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"\",\n    onChangeText: function onChangeText(image) {\n      return setUserImage(_objectSpread(_objectSpread({}, userData), {}, {\n        image: image\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    type: \"upload image\",\n    onClick: imageUpload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"signup\",\n    onPress: clickHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default Signup;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Thersis-Dawerha/front-end-react-native-mobilapp/components/Authentication/signup.js"],"names":["React","Signup","props","useState","username","email","password","phoneNumber","location","image","userData","setUserData","setUserImage","clickHandler","axios","post","then","req","console","log","data","localStorage","setItem","token","catch","error","handleChangeImage","e","preventDefault","target","files","imageUpload","imageLink","storage","ref","name","put","on","snapshot","child","getDownloadURL","url","styles","margin","buttonContainer","input"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {View, Text, ImageBackground, Button} from 'react-native';\r\n// import StyledButton from '../StyledButton';\r\n// import styles from './style';\r\n\r\nconst Signup = (props) => {\r\n// // const {name,tagline,image} = props;\r\nconst [userData, setUserData] = useState({  username: '', email: '', password: '', phoneNumber: '', location: '', image: null});\r\nconst [image, setUserImage] = useState(null)\r\n\r\n\r\nconst clickHandler = () => {\r\n   \r\n    axios.post('http://192.168.1.94:5000/signup', userData) //connected to the server port\r\n    .then( req=> {\r\n     console.log(req.data)\r\n     localStorage.setItem('token', req.data.token)\r\n     console.log(req.data.token)\r\n     // setSavedUserData(savedUserData)\r\n     console.log(userData)\r\n     console.log(\"success\")\r\n    })\r\n    .catch((error) => {\r\n        console.log(error)\r\n        console.log(\"error\")\r\n    })\r\n }\r\n\r\n\r\n\r\nfunction handleChangeImage(e){\r\n    e.preventDefault();\r\n      setUserImage( e.target.files[0])      \r\n    }\r\n\r\n    const imageUpload  = async (e) => {\r\n        const imageLink = storage.ref(`images/${image.name}`).put(image)\r\n        imageLink.on(\r\n           \"state_changed\",\r\n           snapshot => {},\r\n           error => {\r\n             console.log(error)\r\n           },\r\n           () => {\r\n             \r\n             storage\r\n             .ref(\"images\")\r\n             .child(image.name)\r\n             .getDownloadURL()\r\n             .then(url => {\r\n     \r\n              userData.image = url\r\n               console.log(url)\r\n             })\r\n           })\r\n        \r\n      }\r\n\r\n    return (\r\n        <View >\r\n            \r\n            <Text style = {styles.margin}>Sign up</Text>\r\n            <View style = {styles.buttonContainer}>\r\n            <Text>Username</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder=''\r\n            onChangeText={(username) => setUserData({...userData, username: username})}/>\r\n\r\n            <Text>Email</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder='example@xxxmail.com'\r\n            onChangeText={(email) =>  setUserData({...userData, email: email})}/>\r\n\r\n            <Text>Password</Text>\r\n            <TextInput \r\n            // keyboardType='default'\r\n            style={styles.input}\r\n            placeholder='e.g .!@#123Aa'\r\n            onChangeText={(password) =>  setUserData({...userData, password: password})}/>\r\n\r\n            <Text>Phone Number</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder='0123456789'\r\n            onChangeText={(phoneNumber) =>  setUserData({...userData, phoneNumber: phoneNumber})}/>\r\n\r\n            <Text>Image</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder=''\r\n            onChangeText={(image) =>  setUserImage({...userData, image: image})}/>\r\n            <Button type=\"upload image\" onClick= {imageUpload} />\r\n            <Button title = \"signup\" onPress =  {clickHandler}/>\r\n                </View>\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}