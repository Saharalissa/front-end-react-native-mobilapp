{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\aqrab\\\\OneDrive\\\\Desktop\\\\thesis project phase 2\\\\front-end-react-native-mobilapp\\\\components\\\\List items\\\\image.js\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Permissions from 'expo-permissions';\nexport default function App() {\n  var askForPermission = function askForPermission() {\n    var permissionResult;\n    return _regeneratorRuntime.async(function askForPermission$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA));\n\n          case 2:\n            permissionResult = _context.sent;\n\n            if (!(permissionResult.status !== 'granted')) {\n              _context.next = 6;\n              break;\n            }\n\n            Alert.alert('no permissions to access camera!', [{\n              text: 'ok'\n            }]);\n            return _context.abrupt(\"return\", false);\n\n          case 6:\n            return _context.abrupt(\"return\", true);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var takeImage = function takeImage() {\n    var hasPermission, image;\n    return _regeneratorRuntime.async(function takeImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(askForPermission());\n\n          case 2:\n            hasPermission = _context2.sent;\n\n            if (hasPermission) {\n              _context2.next = 7;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 7:\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [3, 3],\n              quality: 1,\n              base64: true\n            }));\n\n          case 9:\n            image = _context2.sent;\n            console.log(image.uri);\n\n            if (!image.cancelled) {\n              fetch('http://192.168.1.6:19000/image', {\n                method: 'POST',\n                headers: {\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  imgsource: image.base64\n                })\n              });\n            }\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  }, React.createElement(Button, {\n    title: \"Take a foto\",\n    onPress: takeImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/aqrab/OneDrive/Desktop/thesis project phase 2/front-end-react-native-mobilapp/components/List items/image.js"],"names":["React","ImagePicker","Permissions","App","askForPermission","askAsync","CAMERA","permissionResult","status","Alert","alert","text","takeImage","hasPermission","launchCameraAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","base64","image","console","log","uri","cancelled","fetch","method","headers","Accept","body","JSON","stringify","imgsource","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;AAEA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AAEA,eAAe,SAASC,GAAT,GAAe;AAC7B,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACOF,WAAW,CAACG,QAAZ,CAAqBH,WAAW,CAACI,MAAjC,CADP;;AAAA;AAClBC,YAAAA,gBADkB;;AAAA,kBAEpBA,gBAAgB,CAACC,MAAjB,KAA4B,SAFR;AAAA;AAAA;AAAA;;AAGvBC,YAAAA,KAAK,CAACC,KAAN,CAAY,kCAAZ,EAAgD,CAAC;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAhD;AAHuB,6CAIhB,KAJgB;;AAAA;AAAA,6CAMjB,IANiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzB;;AASA,MAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEWR,gBAAgB,EAF3B;;AAAA;AAEXS,YAAAA,aAFW;;AAAA,gBAGZA,aAHY;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,6CAOEZ,WAAW,CAACa,iBAAZ,CAA8B;AAC/CC,cAAAA,UAAU,EAAEd,WAAW,CAACe,gBAAZ,CAA6BC,MADM;AAE/CC,cAAAA,aAAa,EAAE,IAFgC;AAG/CC,cAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHuC;AAI/CC,cAAAA,OAAO,EAAE,CAJsC;AAK/CC,cAAAA,MAAM,EAAE;AALuC,aAA9B,CAPF;;AAAA;AAOZC,YAAAA,KAPY;AAcPC,YAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,GAAlB;;AAET,gBAAI,CAACH,KAAK,CAACI,SAAX,EAAsB;AACrBC,cAAAA,KAAK,CAAC,gCAAD,EAAmC;AACvCC,gBAAAA,MAAM,EAAE,MAD+B;AAEvCC,gBAAAA,OAAO,EAAE;AACRC,kBAAAA,MAAM,EAAE,kBADA;AAER,kCAAgB;AAFR,iBAF8B;AAOvCC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,kBAAAA,SAAS,EAAEZ,KAAK,CAACD;AADG,iBAAf;AAPiC,eAAnC,CAAL;AAWA;;AA5Be;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AA+BA,SACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEc,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,aAAd;AAA4B,IAAA,OAAO,EAAExB,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD;AAKA;AAED,IAAMuB,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;AAChCF,EAAAA,SAAS,EAAE;AACVG,IAAAA,IAAI,EAAE,CADI;AAEVC,IAAAA,eAAe,EAAE,MAFP;AAGVC,IAAAA,UAAU,EAAE,QAHF;AAIVC,IAAAA,cAAc,EAAE;AAJN;AADqB,CAAlB,CAAf","sourcesContent":["import React from 'react'\r\nimport { StyleSheet, Text, View, Image, Button, Alert } from 'react-native'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport * as Permissions from 'expo-permissions'\r\n\r\nexport default function App() {\r\n\tconst askForPermission = async () => {\r\n\t\tconst permissionResult = await Permissions.askAsync(Permissions.CAMERA)\r\n\t\tif (permissionResult.status !== 'granted') {\r\n\t\t\tAlert.alert('no permissions to access camera!', [{ text: 'ok' }])\r\n\t\t\treturn false\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\tconst takeImage = async () => {\r\n\t\t// make sure that we have the permission\r\n\t\tconst hasPermission = await askForPermission()\r\n\t\tif (!hasPermission) {\r\n\t\t\treturn\r\n\t\t} else {\r\n\t\t\t// launch the camera with the following settings\r\n\t\t\tlet image = await ImagePicker.launchCameraAsync({\r\n\t\t\t\tmediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n\t\t\t\tallowsEditing: true,\r\n\t\t\t\taspect: [3, 3],\r\n\t\t\t\tquality: 1,\r\n\t\t\t\tbase64: true,\r\n            })\r\n            console.log(image.uri)\r\n\t\t\t// make sure a image was taken:\r\n\t\t\tif (!image.cancelled) {\r\n\t\t\t\tfetch('http://192.168.1.6:19000/image', {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAccept: 'application/json',\r\n\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// send our base64 string as POST request\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\timgsource: image.base64,\r\n\t\t\t\t\t}),\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Button title=\"Take a foto\" onPress={takeImage} />\r\n\t\t</View>\r\n\t)\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\tbackgroundColor: '#fff',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n})"]},"metadata":{},"sourceType":"module"}