{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Thersis-Dawerha\\\\front-end-react-native-mobilapp\\\\App.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Photo from \"./components/Authentication/imagePicker\";\nimport Login from \"./components/Authentication/login\";\nimport Signup from \"./components/Authentication/signup\";\nimport Notification from \"./components/notifications/notifications\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { launchCamera, launchImageLibrary } from 'react-native-image-picker';\nimport Constants from 'expo-constants';\nimport axios from 'axios';\nimport firebase from \"./components/List items/firbase\";\nimport { storage } from \"./components/List items/firbase\";\nimport AsyncStorage from '@react-native-community/async-storage';\nexport default function App() {\n  var _useState = useState({\n    email: 'sahar@gmail.com',\n    password: '123456'\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      savedUserData = _useState2[0],\n      setSavedUserData = _useState2[1];\n\n  var clickHandler = function clickHandler(req) {\n    return _regeneratorRuntime.async(function clickHandler$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            axios.post('http://192.168.1.94:5000/signin', savedUserData).then(function _callee(req) {\n              var token, user_id, trial;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      token = req.data.token;\n                      user_id = JSON.stringify(req.data.result[0].userID);\n                      _context.prev = 2;\n                      _context.next = 5;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', token));\n\n                    case 5:\n                      _context.next = 7;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem('user_id', user_id));\n\n                    case 7:\n                      console.log('saved', token);\n                      _context.next = 13;\n                      break;\n\n                    case 10:\n                      _context.prev = 10;\n                      _context.t0 = _context[\"catch\"](2);\n                      console.log(_context.t0);\n\n                    case 13:\n                      _context.next = 15;\n                      return _regeneratorRuntime.awrap(AsyncStorage.getItem('user_id'));\n\n                    case 15:\n                      trial = _context.sent;\n                      console.log(trial);\n\n                      if (trial) {\n                        console.log('user id is saved in storage, id length', trial.length);\n                      } else {\n                        console.log('nooooo token in storage');\n                      }\n\n                      console.log(savedUserData);\n                      console.log(\"success\");\n\n                    case 20:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, [[2, 10]], Promise);\n            }).catch(function (error) {\n              console.log(\"error\", error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    clickHandler();\n  });\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/HP/Desktop/Thersis-Dawerha/front-end-react-native-mobilapp/App.js"],"names":["StatusBar","React","useEffect","useState","Photo","Login","Signup","Notification","ImagePicker","launchCamera","launchImageLibrary","Constants","axios","firebase","storage","AsyncStorage","App","email","password","savedUserData","setSavedUserData","clickHandler","req","post","then","token","data","user_id","JSON","stringify","result","userID","setItem","console","log","getItem","trial","length","catch","error","styles","container","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useEffect, useState} from 'react';\r\nimport { StyleSheet, Text, View, Platform, Button, Image, TextInput } from 'react-native';\r\nimport Photo from './components/Authentication/imagePicker';\r\nimport Login from './components/Authentication/login';\r\nimport Signup from './components/Authentication/signup';\r\nimport Notification from './components/notifications/notifications';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport {launchCamera, launchImageLibrary} from 'react-native-image-picker';\r\nimport Constants from 'expo-constants';\r\nimport axios from 'axios';\r\nimport firebase from './components/List items/firbase';\r\nimport { storage } from './components/List items/firbase';\r\nimport  AsyncStorage  from '@react-native-community/async-storage';\r\n\r\nexport default function App() {\r\n\r\n  const [savedUserData, setSavedUserData] = useState({ email: 'sahar@gmail.com', password: '123456'});\r\n\r\n  const clickHandler = async (req) => {\r\n    axios.post('http://192.168.1.94:5000/signin', savedUserData) //connected to the server port\r\n    .then(async req =>{\r\n     //  console.log(req.data)\r\n      const token = req.data.token\r\n      const user_id = JSON.stringify(req.data.result[0].userID)\r\n     try {\r\n         //to save token of logged in user in the storage\r\n      await AsyncStorage.setItem('token', token) \r\n      await AsyncStorage.setItem('user_id', user_id)  \r\n      console.log('saved', token)\r\n      }\r\n     catch (e){\r\n     console.log(e)\r\n     }\r\n         //to get token of logged in user in the storage\r\n     const trial = await AsyncStorage.getItem('user_id')\r\n     // const trial = await AsyncStorage.getItem('token')\r\n     console.log(trial)\r\n     if (trial) {  //trial.length\r\n         console.log('user id is saved in storage, id length', trial.length)\r\n     } else {\r\n        console.log('nooooo token in storage')\r\n     }\r\n     // setSavedUserData(savedUserData)\r\n     console.log(savedUserData)\r\n     console.log(\"success\")\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"error\", error)\r\n    })\r\n    \r\n }\r\n\r\n useEffect(() => {\r\n  clickHandler()\r\n })\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {/* <Text>hello world!</Text> */}\r\n    \r\n      <Login />\r\n     {/* <Signup/> */}\r\n     {/* <Notification/> */}\r\n      <StatusBar style=\"auto\" />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}