{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Thersis-Dawerha\\\\front-end-react-native-mobilapp\\\\components\\\\Authentication\\\\signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useState } from 'react';\nimport firebase from 'firebase';\nimport { storage } from \"./firbase\";\n\nvar Signup = function Signup(props) {\n  var _useState = useState({\n    username: '',\n    email: '',\n    password: '',\n    phoneNumber: '',\n    location: '',\n    image: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setUserImage = _useState4[1];\n\n  var clickHandler = function clickHandler() {\n    axios.post('http://192.168.1.94:5000/signup', userData).then(function (req) {\n      console.log(req.data);\n      localStorage.setItem('token', req.data.token);\n      console.log(req.data.token);\n      console.log(userData);\n      console.log(\"success\");\n    }).catch(function (error) {\n      console.log(error);\n      console.log(\"error\");\n    });\n  };\n\n  function handleChangeImage(e) {\n    e.preventDefault();\n    setUserImage(e.target.files[0]);\n  }\n\n  var imageUpload = function imageUpload(e) {\n    var imageLink = storage.ref(\"images/\" + image.name).put(image);\n    imageLink.on(\"state_changed\", function (snapshot) {}, function (error) {\n      console.log(error);\n    }, function () {\n      storage.ref(\"images\").child(image.name).getDownloadURL().then(function (url) {\n        userData.image = url;\n        console.log(url);\n      });\n    });\n  };\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.margin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Sign up\"), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Username\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"\",\n    onChangeText: function onChangeText(username) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        username: username\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Email\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"example@xxxmail.com\",\n    onChangeText: function onChangeText(email) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        email: email\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"e.g .!@#123Aa\",\n    onChangeText: function onChangeText(password) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        password: password\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Phone Number\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"0123456789\",\n    onChangeText: function onChangeText(phoneNumber) {\n      return setUserData(_objectSpread(_objectSpread({}, userData), {}, {\n        phoneNumber: phoneNumber\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Image\"), React.createElement(TextInput, {\n    style: styles.input,\n    placeholder: \"\",\n    onChangeText: function onChangeText(image) {\n      return setUserImage(_objectSpread(_objectSpread({}, userData), {}, {\n        image: image\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    title: \"upload image\",\n    onPress: imageUpload,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"signup\",\n    onPress: clickHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }))));\n};\n\nvar styles = StyleSheet.create({\n  containers: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonContainer: {\n    marginTop: 20\n  },\n  margin: {\n    margin: 30\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#777',\n    padding: 8,\n    margin: 10,\n    width: 200\n  }\n});\nexport default Signup;","map":{"version":3,"sources":["C:/Users/HP/Desktop/Thersis-Dawerha/front-end-react-native-mobilapp/components/Authentication/signup.js"],"names":["React","useState","firebase","storage","Signup","props","username","email","password","phoneNumber","location","image","userData","setUserData","setUserImage","clickHandler","axios","post","then","req","console","log","data","localStorage","setItem","token","catch","error","handleChangeImage","e","preventDefault","target","files","imageUpload","imageLink","ref","name","put","on","snapshot","child","getDownloadURL","url","styles","margin","buttonContainer","input","StyleSheet","create","containers","flex","backgroundColor","alignItems","justifyContent","marginTop","borderWidth","borderColor","padding","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {StyleSheet, View, Text, ImageBackground, Button, TextInput} from 'react-native';\r\nimport {useState} from 'react';\r\nimport firebase from 'firebase';\r\nimport { storage } from './firbase';\r\n// import StyledButton from '../StyledButton';\r\n// import styles from './style';\r\n\r\nconst Signup = (props) => {\r\n// // const {name,tagline,image} = props;\r\nconst [userData, setUserData] = useState({  username: '', email: '', password: '', phoneNumber: '', location: '', image: null});\r\nconst [image, setUserImage] = useState(null)\r\n\r\n\r\nconst clickHandler = () => {\r\n   \r\n    axios.post('http://192.168.1.94:5000/signup', userData) //connected to the server port\r\n    .then( req=> {\r\n     console.log(req.data)\r\n     localStorage.setItem('token', req.data.token)\r\n     console.log(req.data.token)\r\n     // setSavedUserData(savedUserData)\r\n     console.log(userData)\r\n     console.log(\"success\")\r\n    })\r\n    .catch((error) => {\r\n        console.log(error)\r\n        console.log(\"error\")\r\n    })\r\n }\r\n\r\n\r\n\r\nfunction handleChangeImage(e){\r\n    e.preventDefault();\r\n      setUserImage( e.target.files[0])      \r\n    }\r\n\r\n    const imageUpload  = (e) => {\r\n        const imageLink = storage.ref(`images/${image.name}`).put(image)\r\n        imageLink.on(\r\n           \"state_changed\",\r\n           snapshot => {},\r\n           error => {\r\n             console.log(error)\r\n           },\r\n           () => {\r\n             \r\n             storage\r\n             .ref(\"images\")\r\n             .child(image.name)\r\n             .getDownloadURL()\r\n             .then(url => {\r\n     \r\n              userData.image = url\r\n               console.log(url)\r\n             })\r\n           })\r\n        \r\n      }\r\n\r\n    return (\r\n        <View >\r\n            \r\n            <Text style = {styles.margin}>Sign up</Text>\r\n            <View style = {styles.buttonContainer}>\r\n            <Text>Username</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder=''\r\n            onChangeText={(username) => setUserData({...userData, username: username})}/>\r\n\r\n            <Text>Email</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder='example@xxxmail.com'\r\n            onChangeText={(email) =>  setUserData({...userData, email: email})}/>\r\n\r\n            <Text>Password</Text>\r\n            <TextInput \r\n            // keyboardType='default'\r\n            style={styles.input}\r\n            placeholder='e.g .!@#123Aa'\r\n            onChangeText={(password) =>  setUserData({...userData, password: password})}/>\r\n\r\n            <Text>Phone Number</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder='0123456789'\r\n            onChangeText={(phoneNumber) =>  setUserData({...userData, phoneNumber: phoneNumber})}/>\r\n\r\n            <Text>Image</Text>\r\n            <TextInput \r\n            style={styles.input}\r\n            placeholder=''\r\n            onChangeText={(image) =>  setUserImage({...userData, image: image})}/>\r\n            <Button title =\"upload image\" onPress= {imageUpload} />\r\n            <View style = {styles.buttonContainer}>\r\n            <Button title = \"signup\" onPress =  {clickHandler}/>\r\n                </View>\r\n                </View>\r\n\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    containers: {\r\n        flex: 1,\r\n        backgroundColor: '#fff',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n    buttonContainer: {\r\n        marginTop: 20\r\n    },\r\n    margin: {\r\n        margin: 30\r\n    },\r\n    input: {\r\n        borderWidth: 1,\r\n        borderColor: '#777',\r\n        padding: 8,\r\n        margin:10,\r\n        width: 200,\r\n    }\r\n    })\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}